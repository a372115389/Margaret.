<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2022.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 20.0px; font: 12.0px '.AppleSystemUIFontMonospaced'; color: #1b1f23; -webkit-text-stroke: #1b1f23}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; text-align: right; line-height: 20.0px; font: 12.0px '.AppleSystemUIFontMonospaced'; color: #1b1f23; -webkit-text-stroke: #1b1f23; min-height: 15.0px}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 20.0px; font: 12.0px '.AppleSystemUIFontMonospaced'; color: #1b1f23; -webkit-text-stroke: #1b1f23; min-height: 15.0px}
    span.s1 {font-kerning: none}
    span.s2 {font: 12.0px 'PingFang SC'; font-kerning: none}
    span.Apple-tab-span {white-space:pre}
    table.t1 {background-color: #ffffff; border-collapse: collapse}
    td.td1 {width: 131.3px; padding: 0.0px 10.0px 0.0px 10.0px}
    td.td2 {width: 131.3px; min-width: 50.0px; padding: 0.0px 10.0px 0.0px 10.0px}
    td.td3 {width: 1251.4px; padding: 0.0px 10.0px 0.0px 10.0px}
  </style>
</head>
<body>
<table cellspacing="0" cellpadding="0" class="t1">
  <tbody>
    <tr>
      <td valign="top" class="td1">
        <p class="p1"><span class="s1">&lt;!doctype html&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1">&lt;html&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1">&lt;head&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>&lt;meta charset="utf-8"&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>&lt;title&gt;</span><span class="s2">开开心心</span><span class="s1">&lt;/title&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>&lt;meta name="language" content="zh-CN"&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>&lt;meta name="github" content="https://github.com/sun0225SUN/Awesome-Love-Code"&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>&lt;meta name="describe" content="</span><span class="s2">收集不易，您的</span><span class="s1">star</span><span class="s2">是我坚持的动力，同时也欢迎各位</span><span class="s1">PR</span><span class="s2">哦</span><span class="s1">! "&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>&lt;link rel="icon" type="image/x-icon" href="https://cdn.jsdelivr.net/gh/sun0225SUN/photos/img/20210715233345.png"&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>&lt;style&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>html,</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>body {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>margin: 0px;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>width: 100%;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>height: 100%;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>overflow: hidden;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>background: #000;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>&lt;/style&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1">&lt;/head&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1">&lt;body&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>&lt;canvas id="canvas" style="position:absolute;width:100%;height:100%;z-index:8888"&gt;&lt;/canvas&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>&lt;canvas style="position:absolute;width:100%;height:100%;z-index:9999" class="canvas"&gt;&lt;/canvas&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>&lt;div class="overlay"&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>&lt;div class="tabs"&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>&lt;div class="tabs-labels"&gt;&lt;span class="tabs-label"&gt;Commands&lt;/span&gt;&lt;span class="tabs-label"&gt;Info&lt;/span&gt;&lt;span</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>class="tabs-label"&gt;Share&lt;/span&gt;&lt;/div&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>&lt;div class="tabs-panels"&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>&lt;ul class="tabs-panel commands"&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>&lt;/ul&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>&lt;/div&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>&lt;/div&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>&lt;/div&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>&lt;script&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>function initVars() {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>pi = Math.PI;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ctx = canvas.getContext("2d");</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>canvas.width = canvas.clientWidth;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>canvas.height = canvas.clientHeight;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>cx = canvas.width / 2;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>cy = canvas.height / 2;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>playerZ = -25;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>playerX = playerY = playerVX = playerVY = playerVZ = pitch = yaw = pitchV = yawV = 0;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>scale = 600;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>seedTimer = 0; seedInterval = 5, seedLife = 100; gravity = .02;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>seeds = new Array();</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sparkPics = new Array();</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>s = "https://cantelope.org/NYE/";</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>for (i = 1; i &lt;= 10; ++i) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sparkPic = new Image();</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sparkPic.src = s + "spark" + i + ".png";</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sparkPics.push(sparkPic);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sparks = new Array();</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>pow1 = new Audio(s + "pow1.ogg");</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>pow2 = new Audio(s + "pow2.ogg");</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>pow3 = new Audio(s + "pow3.ogg");</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>pow4 = new Audio(s + "pow4.ogg");</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>frames = 0;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>function rasterizePoint(x, y, z) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var p, d;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>x -= playerX;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>y -= playerY;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>z -= playerZ;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>p = Math.atan2(x, z);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>d = Math.sqrt(x * x + z * z);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>x = Math.sin(p - yaw) * d;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>z = Math.cos(p - yaw) * d;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>p = Math.atan2(y, z);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>d = Math.sqrt(y * y + z * z);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>y = Math.sin(p - pitch) * d;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>z = Math.cos(p - pitch) * d;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var rx1 = -1000, ry1 = 1, rx2 = 1000, ry2 = 1, rx3 = 0, ry3 = 0, rx4 = x, ry4 = z, uc = (ry4 - ry3) * (rx2 - rx1) - (rx4 - rx3) * (ry2 - ry1);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (!uc) return { x: 0, y: 0, d: -1 };</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var ua = ((rx4 - rx3) * (ry1 - ry3) - (ry4 - ry3) * (rx1 - rx3)) / uc;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var ub = ((rx2 - rx1) * (ry1 - ry3) - (ry2 - ry1) * (rx1 - rx3)) / uc;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (!z) z = .000000001;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (ua &gt; 0 &amp;&amp; ua &lt; 1 &amp;&amp; ub &gt; 0 &amp;&amp; ub &lt; 1) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>x: cx + (rx1 + ua * (rx2 - rx1)) * scale,</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>y: cy + y / z * scale,</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>d: Math.sqrt(x * x + y * y + z * z)</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>};</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>} else {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>x: cx + (rx1 + ua * (rx2 - rx1)) * scale,</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>y: cy + y / z * scale,</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>d: -1</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>};</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>function spawnSeed() {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>seed = new Object();</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>seed.x = -50 + Math.random() * 100;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>seed.y = 25;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>seed.z = -50 + Math.random() * 100;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>seed.vx = .1 - Math.random() * .2;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>seed.vy = -1.5;//*(1+Math.random()/2);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>seed.vz = .1 - Math.random() * .2;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>seed.born = frames;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>seeds.push(seed);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>function splode(x, y, z) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>t = 5 + parseInt(Math.random() * 150);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sparkV = 1 + Math.random() * 2.5;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>type = parseInt(Math.random() * 3);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>switch (type) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case 0:</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>pic1 = parseInt(Math.random() * 10);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>break;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case 1:</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>pic1 = parseInt(Math.random() * 10);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>do { pic2 = parseInt(Math.random() * 10); } while (pic2 == pic1);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>break;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case 2:</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>pic1 = parseInt(Math.random() * 10);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>do { pic2 = parseInt(Math.random() * 10); } while (pic2 == pic1);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>do { pic3 = parseInt(Math.random() * 10); } while (pic3 == pic1 || pic3 == pic2);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>break;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>for (m = 1; m &lt; t; ++m) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>spark = new Object();</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>spark.x = x; spark.y = y; spark.z = z;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>p1 = pi * 2 * Math.random();</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>p2 = pi * Math.random();</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>v = sparkV * (1 + Math.random() / 6)</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>spark.vx = Math.sin(p1) * Math.sin(p2) * v;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>spark.vz = Math.cos(p1) * Math.sin(p2) * v;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>spark.vy = Math.cos(p2) * v;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>switch (type) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case 0: spark.img = sparkPics[pic1]; break;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case 1:</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>spark.img = sparkPics[parseInt(Math.random() * 2) ? pic1 : pic2];</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>break;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case 2:</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>switch (parseInt(Math.random() * 3)) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case 0: spark.img = sparkPics[pic1]; break;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case 1: spark.img = sparkPics[pic2]; break;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case 2: spark.img = sparkPics[pic3]; break;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>break;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>spark.radius = 25 + Math.random() * 50;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>spark.alpha = 1;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>spark.trail = new Array();</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sparks.push(spark);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>switch (parseInt(Math.random() * 4)) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case 0: pow = new Audio(s + "pow1.ogg"); break;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case 1: pow = new Audio(s + "pow2.ogg"); break;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case 2: pow = new Audio(s + "pow3.ogg"); break;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case 3: pow = new Audio(s + "pow4.ogg"); break;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>d = Math.sqrt((x - playerX) * (x - playerX) + (y - playerY) * (y - playerY) + (z - playerZ) * (z - playerZ));</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>pow.volume = 1.5 / (1 + d / 10);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>pow.play();</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>function doLogic() {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (seedTimer &lt; frames) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>seedTimer = frames + seedInterval * Math.random() * 10;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>spawnSeed();</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>for (i = 0; i &lt; seeds.length; ++i) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>seeds[i].vy += gravity;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>seeds[i].x += seeds[i].vx;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>seeds[i].y += seeds[i].vy;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>seeds[i].z += seeds[i].vz;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (frames - seeds[i].born &gt; seedLife) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>splode(seeds[i].x, seeds[i].y, seeds[i].z);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>seeds.splice(i, 1);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>for (i = 0; i &lt; sparks.length; ++i) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (sparks[i].alpha &gt; 0 &amp;&amp; sparks[i].radius &gt; 5) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sparks[i].alpha -= .01;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sparks[i].radius /= 1.02;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sparks[i].vy += gravity;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>point = new Object();</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>point.x = sparks[i].x;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>point.y = sparks[i].y;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>point.z = sparks[i].z;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (sparks[i].trail.length) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>x = sparks[i].trail[sparks[i].trail.length - 1].x;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>y = sparks[i].trail[sparks[i].trail.length - 1].y;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>z = sparks[i].trail[sparks[i].trail.length - 1].z;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>d = ((point.x - x) * (point.x - x) + (point.y - y) * (point.y - y) + (point.z - z) * (point.z - z));</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (d &gt; 9) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sparks[i].trail.push(point);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>} else {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sparks[i].trail.push(point);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (sparks[i].trail.length &gt; 5) sparks[i].trail.splice(0, 1);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sparks[i].x += sparks[i].vx;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sparks[i].y += sparks[i].vy;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sparks[i].z += sparks[i].vz;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sparks[i].vx /= 1.075;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sparks[i].vy /= 1.075;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sparks[i].vz /= 1.075;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>} else {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sparks.splice(i, 1);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>p = Math.atan2(playerX, playerZ);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>d = Math.sqrt(playerX * playerX + playerZ * playerZ);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>d += Math.sin(frames / 80) / 1.25;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>t = Math.sin(frames / 200) / 40;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>playerX = Math.sin(p + t) * d;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>playerZ = Math.cos(p + t) * d;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>yaw = pi + p + t;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>function rgb(col) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var r = parseInt((.5 + Math.sin(col) * .5) * 16);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var g = parseInt((.5 + Math.cos(col) * .5) * 16);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>var b = parseInt((.5 - Math.sin(col) * .5) * 16);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return "#" + r.toString(16) + g.toString(16) + b.toString(16);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>function draw() {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ctx.clearRect(0, 0, cx * 2, cy * 2);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ctx.fillStyle = "#ff8";</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>for (i = -100; i &lt; 100; i += 3) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>for (j = -100; j &lt; 100; j += 4) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>x = i; z = j; y = 25;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>point = rasterizePoint(x, y, z);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (point.d != -1) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size = 250 / (1 + point.d);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>d = Math.sqrt(x * x + z * z);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a = 0.75 - Math.pow(d / 100, 6) * 0.75;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (a &gt; 0) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ctx.globalAlpha = a;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ctx.fillRect(point.x - size / 2, point.y - size / 2, size, size);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ctx.globalAlpha = 1;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>for (i = 0; i &lt; seeds.length; ++i) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>point = rasterizePoint(seeds[i].x, seeds[i].y, seeds[i].z);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (point.d != -1) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size = 200 / (1 + point.d);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ctx.fillRect(point.x - size / 2, point.y - size / 2, size, size);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>point1 = new Object();</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>for (i = 0; i &lt; sparks.length; ++i) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>point = rasterizePoint(sparks[i].x, sparks[i].y, sparks[i].z);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (point.d != -1) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size = sparks[i].radius * 200 / (1 + point.d);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (sparks[i].alpha &lt; 0) sparks[i].alpha = 0;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (sparks[i].trail.length) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>point1.x = point.x;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>point1.y = point.y;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>switch (sparks[i].img) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case sparkPics[0]: ctx.strokeStyle = "#f84"; break;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case sparkPics[1]: ctx.strokeStyle = "#84f"; break;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case sparkPics[2]: ctx.strokeStyle = "#8ff"; break;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case sparkPics[3]: ctx.strokeStyle = "#fff"; break;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case sparkPics[4]: ctx.strokeStyle = "#4f8"; break;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case sparkPics[5]: ctx.strokeStyle = "#f44"; break;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case sparkPics[6]: ctx.strokeStyle = "#f84"; break;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case sparkPics[7]: ctx.strokeStyle = "#84f"; break;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case sparkPics[8]: ctx.strokeStyle = "#fff"; break;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>case sparkPics[9]: ctx.strokeStyle = "#44f"; break;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>for (j = sparks[i].trail.length - 1; j &gt;= 0; --j) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>point2 = rasterizePoint(sparks[i].trail[j].x, sparks[i].trail[j].y, sparks[i].trail[j].z);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (point2.d != -1) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ctx.globalAlpha = j / sparks[i].trail.length * sparks[i].alpha / 2;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ctx.beginPath();</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ctx.moveTo(point1.x, point1.y);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ctx.lineWidth = 1 + sparks[i].radius * 10 / (sparks[i].trail.length - j) / (1 + point2.d);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ctx.lineTo(point2.x, point2.y);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ctx.stroke();</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>point1.x = point2.x;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>point1.y = point2.y;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ctx.globalAlpha = sparks[i].alpha;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ctx.drawImage(sparks[i].img, point.x - size / 2, point.y - size / 2, size, size);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>function frame() {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (frames &gt; 100000) {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>seedTimer = 0;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>frames = 0;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>frames++;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>draw();</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>doLogic();</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>requestAnimationFrame(frame);</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>window.addEventListener("resize", () =&gt; {</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>canvas.width = canvas.clientWidth;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>canvas.height = canvas.clientHeight;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>cx = canvas.width / 2;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>cy = canvas.height / 2;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>});</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>initVars();</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>frame();</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>&lt;/script&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>&lt;script src="js/index.js"&gt;&lt;/script&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1">&lt;/body&gt;</span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td3">
        <p class="p3"><span class="s1"></span><br></p>
        <p class="p3"><span class="s1"></span><br></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td2">
        <p class="p2"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td3">
        <p class="p1"><span class="s1">&lt;/html&gt;</span></p>
      </td>
    </tr>
  </tbody>
</table>
</body>
</html>
